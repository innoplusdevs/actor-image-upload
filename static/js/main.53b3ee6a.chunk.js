(this["webpackJsonpactor-image-upload"]=this["webpackJsonpactor-image-upload"]||[]).push([[0],{265:function(e,t,r){},266:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(18),c=r.n(n),o=r(146),i=r(16),s=r(25),l=r.n(s),p=r(38),u=r(45),d=r(137),b=r.n(d),j=r(149),f=r(63),g=r.n(f),h=r(148),x=function(){var e=Object(p.a)(l.a.mark((function e(t){var r,a,n,c,o,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=4;break}e.t0=t,e.next=7;break;case 4:return e.next=6,m(t);case 6:e.t0=e.sent;case 7:if(!(r=e.t0)){e.next=18;break}return e.next=11,v(r);case 11:return a=e.sent,n=a.profile_path,c=a.name,o=a.gender,i=a.popularity,s=a.known_for,e.abrupt("return",{error:"",data:{name:c,popularity:i,photo:n,movies:Object(j.a)(s),gender:0===o?"Desconocido":2===o?"Hombre":"Mujer"}});case 18:return e.abrupt("return",{error:"error",data:""});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(p.a)(l.a.mark((function e(t){var r,a,n,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",t),e.prev=2,e.next=5,g.a.post("https://whois.nomada.cloud/upload",r,{headers:{Nomada:"MzZjYmRjODgtYTRlMy00NDUwLTgzMWEtM2ZhMzNmZGUxZjZk","Content-Type":"multipart/form-data"}});case 5:if(a=e.sent,n=a.data,c=n.error,o=n.actorName,!c){e.next=11;break}throw new Error(c);case 11:return h.b.success("Imagen cargada correctamente"),e.abrupt("return",o);case 15:e.prev=15,e.t0=e.catch(2),h.b.error("No se reconece la imagen");case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(l.a.mark((function e(t){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("https://api.themoviedb.org/3/search/person",{params:{api_key:"30db1237b9167f8afaf9e065b90d16b8",language:"es-ES",page:"1",include_adult:"true",query:t}});case 3:return r=e.sent,a=r.data,e.abrupt("return",a.results[0]);case 8:e.prev=8,e.t0=e.catch(0),h.b.error("Algo fue mal por favor, intente otra vez");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),O=r(51),y="[Actor] set",w="[Actor] delete",k=function(e){return{type:y,payload:Object(O.a)({},e)}},S=r(91),C=r(271),N=r(270),_=r(275),z=r(37),E=r(6),M=function(e){var t=e.movies,r=Object(a.useState)({open:!1,data:{}}),n=Object(S.a)(r,2),c=n[0],o=n[1];console.log(t);var i=Object(E.jsxs)("div",{style:R.title,children:[Object(E.jsx)("div",{children:c.data.title}),Object(E.jsxs)("div",{children:[c.data.vote_average,Object(E.jsx)(_.a,{style:{color:"gold"}}),"/10"]})]});return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(C.a,{wrapClassName:"ModalWrapper",style:{borderRadius:"10px",background:"rgba(0, 0, 0, 0.8)",padding:"0"},bodyStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white"},closeIcon:Object(E.jsx)(z.a,{style:{color:"#fff"}}),title:i,okButtonProps:{type:"danger"},visible:c.open,onOk:function(){o({open:!1,data:{}})},onCancel:function(){o({open:!1,data:{}})},children:[Object(E.jsx)("p",{style:{fontWeight:"600"},children:"Sinopsis:"}),Object(E.jsx)("p",{children:c.data.overview})]}),Object(E.jsx)("div",{children:Object(E.jsx)("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",flexWrap:"wrap"},children:t.map((function(e){var t=e.poster_path,r=e.id,a=e.title,n=e.overview,c=e.vote_average;return Object(E.jsx)(N.a,{preview:!1,width:200,src:"https://image.tmdb.org/t/p/original".concat(t),onClick:function(){return function(e,t,r){o({open:!0,data:{title:e,overview:t,vote_average:r}})}(a,n,c)},style:R.image},r)}))})})]})},R={title:{color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 1.2rem 0 0"},image:{margin:"0.5rem",borderRadius:"5px",boxShadow:"2px 2px 10px 2px  rgba(0, 0, 0, 0.2)",cursor:"pointer"}},D=r(46),I=r(273),P=r(272),W=r(274),q=r(268),A=r(276),B=function(){var e=Object(i.h)(),t=Object(u.c)((function(e){return e.actor}));t.name||(t=function(e){return f.apply(this,arguments)}(b.a.parse(e.search).q));var r=t,a=r.photo,n=r.name,c=r.gender,o=r.popularity,s=r.movies,d=Object(u.b)(),j=Object(i.g)();function f(){return f=Object(p.a)(l.a.mark((function e(t){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:r=e.sent,a=r.data,d(k(a));case 5:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}return Object(E.jsx)("div",{style:F.container,children:t.name?Object(E.jsxs)("div",{style:{padding:"10px",overflow:"hidden"},children:[Object(E.jsxs)(D.a,{type:"danger",style:{marginBottom:"10px"},onClick:function(e){e.preventDefault(),d({type:w}),j.goBack()},children:[Object(E.jsx)(A.a,{}),"Regresar"]}),Object(E.jsxs)("div",{children:[Object(E.jsxs)(I.b,{align:"center",direction:"vertical",style:{width:"100%"},children:[a&&Object(E.jsx)(P.a,{size:{xs:40,sm:60,md:80,lg:100,xl:120,xxl:150},src:"https://image.tmdb.org/t/p/original".concat(a),style:F.avatar}),Object(E.jsx)("h2",{style:{color:"#fff"},children:n}),Object(E.jsx)(W.a,{color:"gray",children:Object(E.jsx)("p",{style:{fontSize:"1.2em",color:"#fff",margin:"0"},children:c})}),Object(E.jsxs)("p",{style:{color:"#fff"},children:["Popularidad: ",o]})]}),Object(E.jsx)(q.a,{type:"vertical",style:{height:"auto"}}),Object(E.jsx)(M,{movies:s})]})]}):Object(E.jsx)("div",{style:{color:"#fff",fontSize:"2em",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:"Loading..."})})},F={container:{minHeight:"100vh",background:"rgba(0,0,0, 0.9)"},avatar:{boxShadow:"2px 2px 10px 2px  rgba(0, 0, 0, 0.2)"}},T=function(){var e=Object(p.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("https://api.themoviedb.org/3/person/popular",{params:{api_key:"30db1237b9167f8afaf9e065b90d16b8",language:"es-ES",page:"1"}});case 3:return t=e.sent,(r=t.data.results).splice(10,r.length-1),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),h.b.error("Algo fue mal al cargar las personas populares");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=function(e){var t=Object(a.useRef)(!0),r=Object(a.useState)({data:null,loading:!0,error:null}),n=Object(S.a)(r,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){return function(){t.current=!1}}),[]),Object(a.useEffect)((function(){o({data:null,loading:!0,error:null}),e().then((function(e){t.current&&o({loading:!1,error:null,data:e})})).catch((function(e){return console.error(e,"eras")}))}),[e]),c}(T),t=e.data;return console.log(t,"data"),Object(E.jsxs)("div",{children:[Object(E.jsx)("h1",{style:G.title,children:"Top Popular:"}),Object(E.jsx)(E.Fragment,{children:t&&Object(E.jsx)("div",{style:G.container,className:"TopPopular",children:t.map((function(e){var t=e.profile_path,r=e.name,a=e.id;return Object(E.jsxs)("div",{style:G.imageWrapper,children:[Object(E.jsx)(N.a,{preview:!1,width:150,src:"https://image.tmdb.org/t/p/original".concat(t),style:G.image},a),Object(E.jsx)("h3",{style:{color:"#fff"},children:r})]})}))})})]})},G={title:{color:"#fff"},container:{display:"grid",gridAutoFlow:"column",overflowX:"scroll",gridGap:"5px"},imageWrapper:{color:"#fff"},image:{margin:"0.5rem",borderRadius:"5px",boxShadow:"2px 2px 10px 2px  rgba(0, 0, 0, 0.2)",pointerEvent:"none"}},H=r(269),J=r(277),U=H.a.Dragger,L=function(){var e=Object(u.b)(),t=Object(i.g)(),r={name:"image",multiple:!1,action:"https://whois.nomada.cloud/upload",accept:".jpg,.png",onChange:function(r){return Object(p.a)(l.a.mark((function a(){var n,c,o,i,s;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=r.file.status,"PNG"!==(c=r.file.name.split(".").pop().toUpperCase())&&"JPG"!==c){a.next=15;break}if("done"!==n){a.next=12;break}return a.next=6,x(r.file.originFileObj);case 6:o=a.sent,i=o.error,s=o.data,i||(e(k(s)),t.push("/actor-info?q=".concat(s.name))),a.next=13;break;case 12:"error"===n&&h.b.error("".concat(r.file.name," la carga del archivo fall\xf3."));case 13:a.next=16;break;case 15:"done"===n&&h.b.error("Solo se permiten im\xe1genes jpg o png.");case 16:case"end":return a.stop()}}),a)})))()}};return Object(E.jsx)("div",{style:Y.container,children:Object(E.jsxs)(I.b,{align:"center",direction:"vertical",style:{width:"100%"},children:[Object(E.jsx)("h2",{style:{color:"#fff"},children:"\xbfQui\xe9n es ese actor?"}),Object(E.jsxs)(U,Object(O.a)(Object(O.a)({},r),{},{style:Y.dragger,children:[Object(E.jsx)("p",{className:"ant-upload-drag-icon",children:Object(E.jsx)(J.a,{style:{color:"red"}})}),Object(E.jsx)("p",{className:"ant-upload-text",style:Y.text,children:"Haz click o arrastra una imagen de un actor"}),Object(E.jsx)("p",{className:"ant-upload-hint",style:Y.text,children:"Selcciona la foto de un actor famoso para conocer qui\xe9n es y en qu\xe9 pel\xedculas ha trabajado"})]}))]})})},Y={container:{marginBottom:"1rem"},dragger:{padding:"10px",background:"rgba(255, 255, 255, 0.1)"},text:{color:"#fff"}},Q=function(){return Object(E.jsxs)("div",{style:X.container,children:[Object(E.jsx)(L,{}),Object(E.jsx)(Z,{})]})},X={container:{background:"rgba(0,0,0, 0.9)",color:"#fff",minHeight:"100vh",padding:"1rem"}},K=function(){return Object(E.jsx)(o.a,{children:Object(E.jsx)("div",{children:Object(E.jsx)("div",{children:Object(E.jsxs)(i.d,{children:[Object(E.jsx)(i.b,{exact:!0,path:"/home",component:Q}),Object(E.jsx)(i.b,{path:"/actor-info",component:B}),Object(E.jsx)(i.a,{to:"/home"})]})})})})},V=r(112),$=Object(V.a)({actor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(O.a)({},t.payload);case w:return{};default:return e}}}),ee=Object(V.b)($);var te=function(){return Object(E.jsx)(u.a,{store:ee,children:Object(E.jsx)(K,{})})};r(265);c.a.render(Object(E.jsx)(te,{}),document.getElementById("root"))}},[[266,1,2]]]);
//# sourceMappingURL=main.53b3ee6a.chunk.js.map