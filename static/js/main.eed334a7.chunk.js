(this["webpackJsonpactor-image-upload"]=this["webpackJsonpactor-image-upload"]||[]).push([[0],{265:function(e,t,r){},266:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(18),c=r.n(n),o=r(145),i=r(16),s=r(31),l=r.n(s),p=r(45),d=r(44),u=r(136),j=r.n(u),b=r(148),f=r(107),h=r.n(f),x=r(147),g=function(){var e=Object(p.a)(l.a.mark((function e(t){var r,a,n,c,o,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=4;break}e.t0=t,e.next=7;break;case 4:return e.next=6,m(t);case 6:e.t0=e.sent;case 7:if(!(r=e.t0)){e.next=18;break}return e.next=11,v(r);case 11:return a=e.sent,n=a.profile_path,c=a.name,o=a.gender,i=a.popularity,s=a.known_for,e.abrupt("return",{error:"",data:{name:c,popularity:i,photo:n,movies:Object(b.a)(s),gender:0===o?"Desconocido":2===o?"Hombre":"Mujer"}});case 18:return e.abrupt("return",{error:"error",data:""});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(p.a)(l.a.mark((function e(t){var r,a,n,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",t),e.prev=2,e.next=5,h.a.post("https://whois.nomada.cloud/upload",r,{headers:{Nomada:"MzZjYmRjODgtYTRlMy00NDUwLTgzMWEtM2ZhMzNmZGUxZjZk","Content-Type":"multipart/form-data"}});case 5:if(a=e.sent,n=a.data,c=n.error,o=n.actorName,!c){e.next=11;break}throw new Error(c);case 11:return x.b.success("Imagen cargada correctamente"),e.abrupt("return",o);case 15:e.prev=15,e.t0=e.catch(2),x.b.error("No se reconece la imagen");case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(l.a.mark((function e(t){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://api.themoviedb.org/3/search/person",{params:{api_key:"30db1237b9167f8afaf9e065b90d16b8",language:"es-ES",page:"1",include_adult:"true",query:t}});case 3:return r=e.sent,a=r.data,e.abrupt("return",a.results[0]);case 8:e.prev=8,e.t0=e.catch(0),x.b.error("Algo fue mal por favor, intente otra vez");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),O=r(51),y="[Actor] set",w="[Actor] delete",k=function(e){return{type:y,payload:Object(O.a)({},e)}},C=r(149),N=r(271),S=r(270),z=r(275),_=r(7),D=function(e){var t=e.movies,r=Object(a.useState)({open:!1,data:{}}),n=Object(C.a)(r,2),c=n[0],o=n[1];console.log(t);var i=Object(_.jsxs)("div",{style:M.title,children:[Object(_.jsx)("div",{children:c.data.title}),Object(_.jsxs)("div",{children:[c.data.vote_average,Object(_.jsx)(z.a,{style:{color:"gold"}}),"/10"]})]});return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(N.a,{style:{borderRadius:"10px"},title:i,visible:c.open,onOk:function(){o({open:!1,data:{}})},onCancel:function(){o({open:!1,data:{}})},children:[Object(_.jsx)("p",{style:{sfontWeight:"600"},children:"Sinopsis:"}),Object(_.jsx)("p",{children:c.data.overview})]}),Object(_.jsx)("div",{children:Object(_.jsx)("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",flexWrap:"wrap"},children:t.map((function(e){var t=e.poster_path,r=e.id,a=e.title,n=e.overview,c=e.vote_average;return Object(_.jsx)(S.a,{preview:!1,width:200,src:"https://image.tmdb.org/t/p/original".concat(t),onClick:function(){return function(e,t,r){o({open:!0,data:{title:e,overview:t,vote_average:r}})}(a,n,c)},style:M.image},r)}))})})]})},M={title:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 1.2rem 0 0"},image:{margin:"0.5rem",borderRadius:"5px",boxShadow:"2px 2px 10px 2px  rgba(0, 0, 0, 0.2)",cursor:"pointer"}},q=r(46),I=r(273),R=r(272),Z=r(274),E=r(268),H=r(276),A=function(){var e=Object(i.h)(),t=Object(d.c)((function(e){return e.actor}));t.name||(t=function(e){return f.apply(this,arguments)}(j.a.parse(e.search).q));var r=t,a=r.photo,n=r.name,c=r.gender,o=r.popularity,s=r.movies,u=Object(d.b)(),b=Object(i.g)();function f(){return f=Object(p.a)(l.a.mark((function e(t){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:r=e.sent,a=r.data,u(k(a));case 5:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}return Object(_.jsx)("div",{style:B.container,children:t.name?Object(_.jsxs)("div",{style:{padding:"10px",overflow:"hidden"},children:[Object(_.jsxs)(q.a,{type:"danger",style:{marginBottom:"10px"},onClick:function(e){e.preventDefault(),u({type:w}),b.goBack()},children:[Object(_.jsx)(H.a,{}),"Regresar"]}),Object(_.jsxs)("div",{children:[Object(_.jsxs)(I.b,{align:"center",direction:"vertical",style:{width:"100%"},children:[a&&Object(_.jsx)(R.a,{size:{xs:40,sm:60,md:80,lg:100,xl:120,xxl:150},src:"https://image.tmdb.org/t/p/original".concat(a),style:B.avatar}),Object(_.jsx)("h2",{style:{color:"#fff"},children:n}),Object(_.jsx)(Z.a,{color:"gray",children:Object(_.jsx)("p",{style:{fontSize:"1.2em",color:"#fff",margin:"0"},children:c})}),Object(_.jsxs)("p",{style:{color:"#fff"},children:["Popularidad: ",o,"/100"]})]}),Object(_.jsx)(E.a,{type:"vertical",style:{height:"auto"}}),Object(_.jsx)(D,{movies:s})]})]}):Object(_.jsx)("div",{style:{fontSize:"2em",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:"Loading..."})})},B={container:{minHeight:"100vh",background:"rgba(0,0,0, 0.9)"},avatar:{boxShadow:"2px 2px 10px 2px  rgba(0, 0, 0, 0.2)"}},F=r(269),G=r(277),J=F.a.Dragger,P=function(){var e=Object(d.b)(),t=Object(i.g)(),r={name:"image",multiple:!1,action:"https://whois.nomada.cloud/upload",accept:".jpg,.png",onChange:function(r){return Object(p.a)(l.a.mark((function a(){var n,c,o,i,s;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=r.file.status,"PNG"!==(c=r.file.name.split(".").pop().toUpperCase())&&"JPG"!==c){a.next=15;break}if("done"!==n){a.next=12;break}return a.next=6,g(r.file.originFileObj);case 6:o=a.sent,i=o.error,s=o.data,i||(e(k(s)),t.push("/actor-info?q=".concat(s.name))),a.next=13;break;case 12:"error"===n&&x.b.error("".concat(r.file.name," la carga del archivo fall\xf3."));case 13:a.next=16;break;case 15:"done"===n&&x.b.error("Solo se permiten im\xe1genes jpg o png.");case 16:case"end":return a.stop()}}),a)})))()}};return Object(_.jsx)("div",{style:T.container,children:Object(_.jsxs)(I.b,{align:"center",direction:"vertical",style:{width:"100%"},children:[Object(_.jsx)("h2",{style:{color:"#fff"},children:"\xbfQui\xe9n es ese actor?"}),Object(_.jsxs)(J,Object(O.a)(Object(O.a)({},r),{},{style:T.dragger,children:[Object(_.jsx)("p",{className:"ant-upload-drag-icon",children:Object(_.jsx)(G.a,{style:{color:"red"}})}),Object(_.jsx)("p",{className:"ant-upload-text",style:T.text,children:"Haz click o arrastra una imagen"}),Object(_.jsx)("p",{className:"ant-upload-hint",style:T.text,children:"Selcciona la foto de un actor famoso para conocer qui\xe9n es y en qu\xe9 pel\xedculas ha salido"})]}))]})})},T={container:{minHeight:"100vh",background:"rgba(0,0,0, 0.9)",color:"#fff"},dragger:{padding:"10px",background:"rgba(255, 255, 255, 0.1)"},text:{color:"#fff"}},U=function(){return Object(_.jsx)(o.a,{children:Object(_.jsx)("div",{children:Object(_.jsx)("div",{children:Object(_.jsxs)(i.d,{children:[Object(_.jsx)(i.b,{exact:!0,path:"/upload-image",component:P}),Object(_.jsx)(i.b,{path:"/actor-info",component:A}),Object(_.jsx)(i.a,{to:"/upload-image"})]})})})})},W=r(111),L=Object(W.a)({actor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(O.a)({},t.payload);case w:return{};default:return e}}}),Y=Object(W.b)(L);var Q=function(){return Object(_.jsx)(d.a,{store:Y,children:Object(_.jsx)(U,{})})};r(265);c.a.render(Object(_.jsx)(Q,{}),document.getElementById("root"))}},[[266,1,2]]]);
//# sourceMappingURL=main.eed334a7.chunk.js.map