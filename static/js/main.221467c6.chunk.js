(this["webpackJsonpactor-image-upload"]=this["webpackJsonpactor-image-upload"]||[]).push([[0],{270:function(e,t,r){},271:function(e,t,r){"use strict";r.r(t);r(0);var a=r(22),n=r.n(a),c=r(144),s=r(18),o=r(32),i=r.n(o),l=r(52),u=r(49),p=r(136),d=r.n(p),j=r(147),b=r(108),h=r.n(b),x=r(148),m=function(){var e=Object(l.a)(i.a.mark((function e(t){var r,a,n,c,s,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=4;break}e.t0=t,e.next=7;break;case 4:return e.next=6,f(t);case 6:e.t0=e.sent;case 7:if(!(r=e.t0)){e.next=18;break}return e.next=11,g(r);case 11:return a=e.sent,n=a.profile_path,c=a.name,s=a.gender,o=a.popularity,l=a.known_for,e.abrupt("return",{error:"",data:{name:c,popularity:o,photo:n,movies:Object(j.a)(l),gender:0===s?"Desconocido":2===s?"Hombre":"Mujer"}});case 18:return e.abrupt("return",{error:"error",data:""});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(i.a.mark((function e(t){var r,a,n,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",t),e.prev=2,e.next=5,h.a.post("https://whois.nomada.cloud/upload",r,{headers:{Nomada:"MzZjYmRjODgtYTRlMy00NDUwLTgzMWEtM2ZhMzNmZGUxZjZk","Content-Type":"multipart/form-data"}});case 5:if(a=e.sent,n=a.data,c=n.error,s=n.actorName,!c){e.next=11;break}throw new Error(c);case 11:return x.b.success("Imagen cargada correctamente"),e.abrupt("return",s);case 15:e.prev=15,e.t0=e.catch(2),x.b.error("No se reconece la imagen");case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://api.themoviedb.org/3/search/person",{params:{api_key:"30db1237b9167f8afaf9e065b90d16b8",language:"es-ES",page:"1",include_adult:"true",query:t}});case 3:return r=e.sent,a=r.data,e.abrupt("return",a.results[0]);case 8:e.prev=8,e.t0=e.catch(0),x.b.error("Algo fue mal por favor, intente otra vez");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),O=r(57),v="[Actor] set",y="[Actor] delete",w=function(e){return{type:v,payload:Object(O.a)({},e)}},k=r(112),N=r(275),z=r(276),M=r(277),D=r(281),I=r(280),_=r(282),q=r(279),C=r(283),S=r(284),Z=r(7),E=function(){var e=Object(s.h)(),t=Object(u.c)((function(e){return e.actor}));t.name||(t=function(e){return h.apply(this,arguments)}(d.a.parse(e.search).q));var r=t,a=r.photo,n=r.name,c=r.gender,o=r.popularity,p=r.movies,j=Object(u.b)(),b=Object(s.g)();function h(){return h=Object(l.a)(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:r=e.sent,a=r.data,j(w(a));case 5:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}return Object(Z.jsx)(Z.Fragment,{children:t.name?Object(Z.jsxs)("div",{style:{padding:"10px",overflow:"hidden"},children:[Object(Z.jsxs)(k.a,{type:"primary",style:{marginBottom:"10px"},onClick:function(e){e.preventDefault(),j({type:y}),b.goBack()},children:[Object(Z.jsx)(C.a,{}),"Regresar"]}),Object(Z.jsx)(N.a,{}),Object(Z.jsxs)(z.a,{gutter:{xs:8,sm:16,md:24,lg:32},children:[Object(Z.jsx)(M.a,{className:"gutter-row",xs:24,md:6,justify:"center",children:Object(Z.jsxs)(D.b,{align:"center",direction:"vertical",style:{width:"100%"},children:[a&&Object(Z.jsx)(I.a,{size:{xs:40,sm:60,md:80,lg:100,xl:120,xxl:150},src:"https://image.tmdb.org/t/p/original".concat(a)}),Object(Z.jsx)("h2",{children:n}),Object(Z.jsx)(_.a,{color:"yellow",children:c}),Object(Z.jsxs)("p",{children:["Popularidad: ",o]})]})}),Object(Z.jsx)(N.a,{type:"vertical",style:{height:"auto"}}),Object(Z.jsx)(M.a,{className:"gutter-row",xs:24,md:17,children:Object(Z.jsxs)("div",{children:[Object(Z.jsx)("h1",{children:"Pel\xedculas:"}),Object(Z.jsx)(q.b,{itemLayout:"horizontal",dataSource:p,renderItem:function(e){var t=e.title,r=e.overview,a=e.vote_average,n=e.poster_path;return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)(z.a,{justify:"space-between",children:[Object(Z.jsx)(M.a,{children:Object(Z.jsx)("h3",{children:t})}),Object(Z.jsx)(M.a,{children:Object(Z.jsxs)("p",{children:[a,"/10 ",Object(Z.jsx)(S.a,{style:{color:"gold"}})]})})]}),Object(Z.jsx)(q.b.Item,{children:Object(Z.jsx)(q.b.Item.Meta,{avatar:Object(Z.jsx)("img",{style:{maxWidth:"120px",padding:"4px",borderRadius:"10px"},src:"https://image.tmdb.org/t/p/original".concat(n),alt:"Movie"}),description:r})})]})}})]})})]})]}):Object(Z.jsx)("div",{style:{fontSize:"2em",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:"Loading..."})})},F=r(278),P=r(285),R=F.a.Dragger,A=function(){var e=Object(u.b)(),t=Object(s.g)(),r={name:"image",multiple:!1,action:"https://whois.nomada.cloud/upload",accept:".jpg,.png",onChange:function(r){return Object(l.a)(i.a.mark((function a(){var n,c,s,o,l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=r.file.status,"PNG"!==(c=r.file.name.split(".").pop().toUpperCase())&&"JPG"!==c){a.next=15;break}if("done"!==n){a.next=12;break}return a.next=6,m(r.file.originFileObj);case 6:s=a.sent,o=s.error,l=s.data,o||(e(w(l)),t.push("/actor-info?q=".concat(l.name))),a.next=13;break;case 12:"error"===n&&x.b.error("".concat(r.file.name," la carga del archivo fall\xf3."));case 13:a.next=16;break;case 15:"done"===n&&x.b.error("Solo se permiten im\xe1genes jpg o png.");case 16:case"end":return a.stop()}}),a)})))()}};return Object(Z.jsxs)(D.b,{align:"center",direction:"vertical",style:{width:"100%"},children:[Object(Z.jsx)("h2",{children:"\xbfQui\xe9n es ese actor?"}),Object(Z.jsxs)(R,Object(O.a)(Object(O.a)({},r),{},{style:{padding:"10px"},children:[Object(Z.jsx)("p",{className:"ant-upload-drag-icon",children:Object(Z.jsx)(P.a,{})}),Object(Z.jsx)("p",{className:"ant-upload-text",children:"Haz click o arrastra una imagen"}),Object(Z.jsx)("p",{className:"ant-upload-hint",children:"Selcciona la foto de un actor famoso para conocer qui\xe9n es y en qu\xe9 pel\xedculas ha salido"})]}))]})},B=function(){return Object(Z.jsx)(c.a,{children:Object(Z.jsx)("div",{children:Object(Z.jsx)("div",{children:Object(Z.jsxs)(s.d,{children:[Object(Z.jsx)(s.b,{exact:!0,path:"/upload-image",component:A}),Object(Z.jsx)(s.b,{path:"/actor-info",component:E}),Object(Z.jsx)(s.a,{to:"/upload-image"})]})})})})},G=r(111),J=Object(G.a)({actor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(O.a)({},t.payload);case y:return{};default:return e}}}),L=Object(G.b)(J);var T=function(){return Object(Z.jsx)(u.a,{store:L,children:Object(Z.jsx)(B,{})})};r(270);n.a.render(Object(Z.jsx)(T,{}),document.getElementById("root"))}},[[271,1,2]]]);
//# sourceMappingURL=main.221467c6.chunk.js.map