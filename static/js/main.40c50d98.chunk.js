(this["webpackJsonpactor-image-upload"]=this["webpackJsonpactor-image-upload"]||[]).push([[0],{253:function(e,t,r){},254:function(e,t,r){"use strict";r.r(t);r(0);var a=r(22),n=r.n(a),c=r(141),s=r(18),o=r(49),i=r(111),l=r(258),u=r(259),p=r(260),d=r(264),j=r(263),b=r(265),h=r(262),x=r(266),m=r(267),O=r(56),g="[Actor] set",f="[Actor] delete",v=function(e){return{type:g,payload:Object(O.a)({},e)}},y=r(7),w=function(){var e=Object(o.c)((function(e){return e.actor})),t=e.photo,r=e.name,a=e.gender,n=e.popularity,c=e.movies,O=Object(s.g)(),g=Object(o.b)();return Object(y.jsxs)("div",{style:{padding:"10px",overflow:"hidden"},children:[Object(y.jsxs)(i.a,{type:"primary",style:{marginBottom:"10px"},onClick:function(e){e.preventDefault(),g({type:f}),O.goBack()},children:[Object(y.jsx)(x.a,{}),"Regresar"]}),Object(y.jsx)(l.a,{}),Object(y.jsxs)(u.a,{gutter:{xs:8,sm:16,md:24,lg:32},children:[Object(y.jsx)(p.a,{className:"gutter-row",xs:24,md:6,justify:"center",children:Object(y.jsxs)(d.b,{align:"center",direction:"vertical",style:{width:"100%"},children:[t&&Object(y.jsx)(j.a,{size:{xs:40,sm:60,md:80,lg:100,xl:120,xxl:150},src:"https://image.tmdb.org/t/p/original".concat(t)}),Object(y.jsx)("h2",{children:r}),Object(y.jsx)(b.a,{color:"yellow",children:a}),Object(y.jsxs)("p",{children:["Popularidad: ",n]})]})}),Object(y.jsx)(l.a,{type:"vertical",style:{height:"auto"}}),Object(y.jsx)(p.a,{className:"gutter-row",xs:24,md:17,children:Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Pel\xedculas:"}),Object(y.jsx)(h.b,{itemLayout:"horizontal",dataSource:c,renderItem:function(e){var t=e.title,r=e.overview,a=e.vote_average,n=e.poster_path;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(u.a,{justify:"space-between",children:[Object(y.jsx)(p.a,{children:Object(y.jsx)("h3",{children:t})}),Object(y.jsx)(p.a,{children:Object(y.jsxs)("p",{children:[a,"/10 ",Object(y.jsx)(m.a,{style:{color:"gold"}})]})})]}),Object(y.jsx)(h.b.Item,{children:Object(y.jsx)(h.b.Item.Meta,{avatar:Object(y.jsx)("img",{style:{maxWidth:"120px",padding:"4px",borderRadius:"10px"},src:"https://image.tmdb.org/t/p/original".concat(n),alt:"Movie"}),description:r})})]})}})]})})]})]})},k=r(40),N=r.n(k),M=r(66),z=r(144),D=r(109),_=r.n(D),I=r(145),Z=function(){var e=Object(M.a)(N.a.mark((function e(t){var r,a,n,c,s,o,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:if(!(r=e.sent)){e.next=13;break}return e.next=6,E(r);case 6:return a=e.sent,n=a.profile_path,c=a.name,s=a.gender,o=a.popularity,i=a.known_for,e.abrupt("return",{error:"",data:{name:c,popularity:o,photo:n,movies:Object(z.a)(i),gender:0===s?"Desconocido":2===s?"Hombre":"Mujer"}});case 13:return e.abrupt("return",{error:"error",data:""});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(M.a)(N.a.mark((function e(t){var r,a,n,c,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",t),e.prev=2,e.next=5,_.a.post("https://whois.nomada.cloud/upload",r,{headers:{Nomada:"MzZjYmRjODgtYTRlMy00NDUwLTgzMWEtM2ZhMzNmZGUxZjZk","Content-Type":"multipart/form-data"}});case 5:if(a=e.sent,n=a.data,c=n.error,s=n.actorName,!c){e.next=11;break}throw new Error(c);case 11:return I.b.success("Imagen cargada correctamente"),e.abrupt("return",s);case 15:e.prev=15,e.t0=e.catch(2),I.b.error("No se reconece la imagen");case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(M.a)(N.a.mark((function e(t){var r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("https://api.themoviedb.org/3/search/person",{params:{api_key:"30db1237b9167f8afaf9e065b90d16b8",language:"es-ES",page:"1",include_adult:"true",query:t}});case 3:return r=e.sent,a=r.data,e.abrupt("return",a.results[0]);case 8:e.prev=8,e.t0=e.catch(0),I.b.error("Algo fue mal por favor, intente otra vez");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),P=r(261),R=r(268),S=P.a.Dragger,q=function(){var e=Object(o.b)(),t=Object(s.g)(),r={name:"image",multiple:!1,action:"https://whois.nomada.cloud/upload",accept:".jpg,.png",onChange:function(r){return Object(M.a)(N.a.mark((function a(){var n,c,s,o,i;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=r.file.status,"PNG"!==(c=r.file.name.split(".").pop().toUpperCase())&&"JPG"!==c){a.next=15;break}if("done"!==n){a.next=12;break}return a.next=6,Z(r.file.originFileObj);case 6:s=a.sent,o=s.error,i=s.data,o||(e(v(i)),t.push("/actor-info")),a.next=13;break;case 12:"error"===n&&I.b.error("".concat(r.file.name," la carga del archivo fall\xf3."));case 13:a.next=16;break;case 15:"done"===n&&I.b.error("Solo se permiten im\xe1genes jpg o png.");case 16:case"end":return a.stop()}}),a)})))()}};return Object(y.jsxs)(d.b,{align:"center",direction:"vertical",style:{width:"100%"},children:[Object(y.jsx)("h2",{children:"\xbfQui\xe9n es ese actor?"}),Object(y.jsxs)(S,Object(O.a)(Object(O.a)({},r),{},{style:{padding:"10px"},children:[Object(y.jsx)("p",{className:"ant-upload-drag-icon",children:Object(y.jsx)(R.a,{})}),Object(y.jsx)("p",{className:"ant-upload-text",children:"Haz click o arrastra una imagen"}),Object(y.jsx)("p",{className:"ant-upload-hint",children:"Selcciona la foto de un actor famoso para conocer qui\xe9n es y en qu\xe9 pel\xedculas ha salido"})]}))]})},A=function(){return Object(y.jsx)(c.a,{children:Object(y.jsx)("div",{children:Object(y.jsx)("div",{children:Object(y.jsxs)(s.d,{children:[Object(y.jsx)(s.b,{exact:!0,path:"/upload-image",component:q}),Object(y.jsx)(s.b,{path:"/actor-info",component:w}),Object(y.jsx)(s.a,{to:"/upload-image"})]})})})})},B=r(110),F=Object(B.a)({actor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(O.a)({},t.payload);case f:return{};default:return e}}}),G=Object(B.b)(F);var J=function(){return Object(y.jsx)(o.a,{store:G,children:Object(y.jsx)(A,{})})};r(253);n.a.render(Object(y.jsx)(J,{}),document.getElementById("root"))}},[[254,1,2]]]);
//# sourceMappingURL=main.40c50d98.chunk.js.map